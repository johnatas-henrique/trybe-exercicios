const SecondaryMemory = require('./SecondaryMemory')
const MainMemory = require('./MainMemory')

const secondaryMemory = new SecondaryMemory()
const mainMemory = new MainMemory()

// Conjunto de números aleatórios a serem somados
const randomNumbers = [
  '3212323', '1312312', '26524', '3245143', '47345', '55324', '6824322', '736346', '82355', '9576898', '10345689', '3212323', '1312312', '26524', '3245143', '47345', '55324', '6824322', '736346', '82355', '9576898', '10345689', '3212323', '1312312', '26524', '3245143', '47345', '55324', '6824322', '736346', '82355', '9576898', '10345689', '3212323', '1312312', '26524', '3245143', '47345', '55324', '6824322', '736346', '82355', '9576898', '10345689', '3212323', '1312312', '26524', '3245143', '47345', '55324', '6824322', '736346', '82355', '9576898', '10345689', '3212323', '1312312', '26524', '3245143', '47345', '55324', '6824322', '736346', '82355', '9576898', '10345689',
  '3212323', '1312312', '26524', '3245143', '47345', '55324', '6824322', '736346', '82355', '9576898', '10345689', '3212323', '1312312', '26524', '3245143', '47345', '55324', '6824322', '736346', '82355', '9576898', '10345689', '3212323', '1312312', '26524', '3245143', '47345', '55324', '6824322', '736346', '82355', '9576898', '10345689', '3212323', '1312312', '26524', '3245143', '47345', '55324', '6824322', '736346', '82355', '9576898', '10345689', '3212323', '1312312', '26524', '3245143', '47345', '55324', '6824322', '736346', '82355', '9576898', '10345689', '3212323', '1312312', '26524', '3245143', '47345', '55324', '6824322', '736346', '82355', '9576898', '10345689',
  '3212323', '1312312', '26524', '3245143', '47345', '55324', '6824322', '736346', '82355', '9576898', '10345689', '3212323', '1312312', '26524', '3245143', '47345', '55324', '6824322', '736346', '82355', '9576898', '10345689', '3212323', '1312312', '26524', '3245143', '47345', '55324', '6824322', '736346', '82355', '9576898', '10345689', '3212323', '1312312', '26524', '3245143', '47345', '55324', '6824322', '736346', '82355', '9576898', '10345689', '3212323', '1312312', '26524', '3245143', '47345', '55324', '6824322', '736346', '82355', '9576898', '10345689', '3212323', '1312312', '26524', '3245143', '47345', '55324', '6824322', '736346', '82355', '9576898', '10345689',
  '3212323', '1312312', '26524', '3245143', '47345', '55324', '6824322', '736346', '82355', '9576898', '10345689', '3212323', '1312312', '26524', '3245143', '47345', '55324', '6824322', '736346', '82355', '9576898', '10345689', '3212323', '1312312', '26524', '3245143', '47345', '55324', '6824322', '736346', '82355', '9576898', '10345689', '3212323', '1312312', '26524', '3245143', '47345', '55324', '6824322', '736346', '82355', '9576898', '10345689', '3212323', '1312312', '26524', '3245143', '47345', '55324', '6824322', '736346', '82355', '9576898', '10345689', '3212323', '1312312', '26524', '3245143', '47345', '55324', '6824322', '736346', '82355', '9576898', '10345689'
]

// Carregando todos os números em memória (principal e secundária)
randomNumbers.forEach((number) => {
  secondaryMemory.load(number)
  mainMemory.load(number)
})

// Iterando sobre os números carregados na MEMORIA PRINCIPAL e realizando a soma
let initialMainMemoryTime = Date.now()
let mainMemorySum = 0

for (let i = 0; i < randomNumbers.length; i++) {
  mainMemorySum += mainMemory.get(i)
}

console.log(`Memória Principal\nSoma: ${mainMemorySum} Tempo gasto: ${Date.now() - initialMainMemoryTime}ms\n`)

// Iterando sobre os números carregados na MEMORIA SECUNDARIA e realizando a soma
let initialSecondaryMemoryTime = Date.now()
let secondaryMemorySum = 0
for (let i = 0; i < randomNumbers.length; i++) {
  secondaryMemorySum += secondaryMemory.get(i)
}

console.log(`Memória Secundária\nSoma: ${secondaryMemorySum} Tempo gasto: ${Date.now() - initialSecondaryMemoryTime}ms`)
